<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Product creation guide</title>
</head>
<body>
<h1><a name="Product_creation_guide" />Product creation guide</h1>
<p> </p>
<h2><a name="Configure_the_product" />Configure the product</h2>
<ul>
	<li>adjust splash screen to reflect version number, change static fields in NodeLogger 
	class, and in &quot;knime.product&quot; in the tab &quot;branding&quot; (see below)</li>
	<li>go to the KNIME product definition plugin &quot;org.knime.product&quot;
	</li>
	<li>open the &quot;knime.product&quot; definition file</li>
	<li>click on the &quot;Configuration&quot; tab</li>
	<li>add the features as wanted
	<ul>
		<li>note: the following features are mandatory:
		<ul>
			<li>org.eclipse.gef </li>
			<li>org.eclipse.platform </li>
			<li>org.eclipse.rcp </li>
			<li>org.knime.features.base </li>
		</ul>
		</li>
	</ul>
	</li>
	<li>update the CDK version in org.knime.features.extm.chem.cdk in 
		tab &quot;information&quot; (in the text)</li>
</ul>
<p> </p>
<h2><a name="Test_the_product" />Test the product</h2>
<ul>
	<li>switch to the &quot;Overview&quot; tab </li>
	<li>test the configuration by launching the product via the
	&quot;Launch the product&quot; link</li>
	<li>in case the product fails launching, check the starter configuration
	if all required plugins are selected, if not, remove the base feature org.knime.feature.base
	from the knime.product configuration, save it, try to start it (of course it will fail),
	re-add the base feature, save and try it again</li>
	<li>Note regarding feature <tt>org.knime.features.ext.birt</tt>: If, for any reason, 
	you decide to also include the birt feature in the product, make sure that the you 
	have the birt plugins properly installed. In particular, make sure to copy the 
	<a href="http://prdownloads.sourceforge.net/itext/itext-1.3.jar">itext.jar</a> file to 
	the <tt>eclipse/plugins/com.lowagie.itext_*/lib</tt> directory (that's where  you 
	have eclipse installed). This is a mandatory step when installing birt plugins (see birt
	download page for details).</li>
</ul>
<p> </p>
<h2><a name="Export_the_product" />Export the product</h2>
<ul>
	<li>if the test was successful, start the &quot;Eclipse Product export
	wizard&quot; via the link with that name </li>
	<li>specify the name of the root directory of your product, we usually use 
	knime_<tt>version</tt>, where <tt>version</tt> is for instance &quot;1.2.0&quot;. </li>
	<li>the product can be exported directly to a zip file; therefore
	select as destination &quot;Archive file&quot; and define an appropriate archive
	file name </li>
	<li>DO check the &quot;Include Source Code&quot; button (we decided to also ship the sources with the product).
	<li>press the finish button </li>
</ul>
<p> </p>
<h2 class="Heading2"><a name="Create_a_blank_workflow" />Create a
blank workflow</h2>
<ul>
	<li>unzip the exported product </li>
	<li>(On Linux only: rename the executable &quot;knime&quot; to &quot;<b>.</b>knime&quot;
	     and &quot;knime.ini&quot; to &quot;<b>.</b>knime.ini&quot;)
	<li>(On Linux only: Create an executable (rwx,rwx,rx) shell script &quot;knime.sh&quot; with the 
	      following content:
	      <pre>
  #!/bin/bash
  prg=$0
  while [ -L "$prg" ]; do
      prg=`ls -l $prg | sed -e 's/^.*-&gt; //'`
  done
  if `echo $prg | grep -q &quot;^/&quot;`; then
      ROOT_PATH=`echo $prg | sed -e 's/[^\/]*$//;s/\/$//'`
  else
      ROOT_PATH=&quot;$PWD/$(echo $prg | sed -e 's/[^\/]*$//;s/\/$//')&quot;
  fi
  &quot;$ROOT_PATH/.knime&quot; -data &quot;$ROOT_PATH/workspace&quot; $@
	      </pre>
          Reason being that on Linux the &quot;knime&quot; executable will create
          the default workspace in the current directory, which typically defaults to 
          the users home directory.)</li>
	<li>start the product in via &quot;knime.exe&quot; (&quot;knime.sh&quot; on Linux)</li>
	<li>close the welcome window </li>
	<li>create a new workflow (as usual) </li>
	<li>open the preferences (&quot;File&quot;--&gt;&quot;Preferences...&quot;) and select
	     &quot;Show Heap Status&quot; in the &quot;General&quot; page, do <b>not</b> for any 
	     reason open the KNIME preference page as that will set default values for the 
	     temporary directory and the number of threads being used </li>
	<li>close KNIME </li>
	<li>in the root directory should now be a directory &quot;workspace&quot; </li>
</ul>
<p> </p>
<h2><a name="Delete_run_configuration" />Delete the "run.." menu entry</h2>
<ul>
	<li>
		Go into the &quot;plugins&quot; directory of the extracted archive and delete the
		folder &quot;org.eclipse.ui.externaltools&quot;. This plugin adds an additional
		menu entry &quot;Run External tools ...&quot;, which causes nothing but confusion.
	</li>
</ul>
<p> </p>
<h2><a name="Reactivate_the_welcome_window" />Reactivate the
welcome window</h2>
<ul>
	<li>due to starting KNIME and closing the welcome window, next
	time launching KNIME, the welcome window will not appear any more,
	therefore the setting for this must be reset</li>
	<li>open the file
	&quot;&lt;KNIME_ROOT_DIR&gt;\workspace\.metadata\.plugins\org.eclipse.core.runtime\.settings\org.eclipse.ui.prefs&quot;</li>
	<li>change the &quot;showIntro&quot; property from false to true</li>
	<li>save and close the file </li>
</ul>
<p> </p>
<h2><a name="HistoryStore" />Settings for the Local History Store</h2>
<ul>
	<li>Eclipse maintains a local history to enable local compares and
	so on </li>
	<li>As KNIME stores large data files and other big workflow files,
	it can happen that the local history store gets huge as well </li>
	<li>To avoid this, the settings for the KNIME product are set
	manually to values that avoid a huge local history (i.e. switch it
	off) </li>
	<li>Open the file
	&quot;&lt;workspace&gt;\.metadata\.plugins\org.eclipse.core.runtime\.settings\
	org.eclipse.core.resources.prefs&quot;</li>
	<li>Adapt the following properties as stated
	<ul>
		<li>description.maxfilestatesize=0 </li>
		<li>description.maxfilestates=0 </li>
		<li>description.filestatelongevity=0 </li>
	</ul>
	</li>
	<li>Note: these changes only apply to the given initial workspace!</li>
</ul>
<p> </p>
<h2><a name="Add_the_Iris_sample_data" />Add the Iris sample data</h2>
<ul>
	<li>create a directory in the KNIME root dir called &quot;IrisDataset&quot; (the quickstart guide references
	the Iris dataset, so we need to include that)</li>
	<li>copy to this directory the &quot;data.all&quot;, &quot;data.trn&quot;, &quot;data.tst&quot;
	and &quot;readme.txt&quot; file from the Iris dataset </li>
</ul>
<p> </p>
<h2><a name="Add_a_Java_runtime_environment" />Add a Java runtime
environment</h2>
<ul>
	<li>to enable KNIME to be runnable without a preinstalled Java
	runtime environment (JRE) on the destination computer, it is necessary
	to supply the product with its own JRE </li>
	<li>create a directory &quot;jre&quot; in the root directory </li>
	<li>copy into this directory any JRE version 1.5 or higher (we use 1.5.0_11 for the 1.2.0 release)</li>
</ul>
<p> </p>
<h2><a name="Add_the_example_workflow" />Add the example workflow</h2>
<ul>
	<li>copy the &quot;&lt;shared&gt;\KNIME\KNIME_CDs\ExampleFlow&quot;
	directory to the knime root directory. (This directory contains an exported
	knime workflow that people can play with).</li>
</ul>
<p> </p>
<h2><a name="Add_the_README.txt_and_LICENSE.txt_files" />Add the
README.txt  and LICENSE files</h2>
<ul>
	<li>copy the README.txt, the LICENSE.txt, the LICENSE.html, and gs.css files into the product
	root directory 
	<ul>
		<li>The files can be found in the root directory of the
		&quot;org.knime.product&quot; plugin </li>
	</ul>
	</li>
</ul>
<p> </p>
<h2><a name="QuickstartGuide" />Add the
Quick Start Guide</h2>
<ul>
	<li>Copy the Quick Start Guide &quot;quickstart1.2.pdf&quot; to the KNIME root directory 
	<ul>
		<li>The files can be found in the web content project 
		&quot;knime.org&quot; in the directory &quot;WebContent/docs&quot; </li>
	</ul>
	</li>
</ul>
<p> </p>
<h2 class="Heading2"><a name="Zip_the_KNIME_product" />Zip the
KNIME product</h2>
<ul>
	<li>Before creating the zip the following things have to be done:</li>
	<ul>
		<li>Delete the knime.log file in ECLIPSE_ROOT/workspace/.metadata/knime</li>
		<li>Delete the install.log file in ECLIPSE_ROOT/configuration/org.eclipse.update</li>
		<li>Open file ECLIPSE_ROOT/workspace/.metadata/.plugins/org.eclipse.ui.workbench/workbench.xml
		and replace in the element 'editor' the attribute value of attribute 'path'
		by Knime_project/workflow.knime instead of the whole absolute path</li>
	</ul>
</ul>
<ul>
	<li>finally create another zip (tar.gz) archive from the product
	naming it &quot;knime_win32_1.2.0&quot; or &quot;knime_linux_1.2.0.tar.gz&quot;</li>
</ul>
</body>
</html>
